import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { X, Package, MapPin, TrendingUp, TrendingDown } from 'lucide-react';
import { Button } from '@/components/ui/Button';
export function StockItemViewModal({ isOpen, onClose, item }) {
    if (!isOpen || !item)
        return null;
    const formatCurrency = (value) => {
        return new Intl.NumberFormat('pt-BR', {
            style: 'currency',
            currency: 'BRL'
        }).format(value);
    };
    const formatDate = (dateString) => {
        return new Date(dateString).toLocaleDateString('pt-BR');
    };
    const getStockStatus = () => {
        if (item.currentStock === 0) {
            return { status: 'out', color: 'text-red-600', bgColor: 'bg-red-100', label: 'Sem Estoque' };
        }
        else if (item.currentStock <= item.minStock) {
            return { status: 'low', color: 'text-yellow-600', bgColor: 'bg-yellow-100', label: 'Estoque Baixo' };
        }
        else {
            return { status: 'normal', color: 'text-green-600', bgColor: 'bg-green-100', label: 'Normal' };
        }
    };
    const stockStatus = getStockStatus();
    return (_jsx("div", { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4", children: _jsxs("div", { className: "bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto", children: [_jsxs("div", { className: "flex items-center justify-between p-6 border-b", children: [_jsx("h2", { className: "text-xl font-semibold", children: "Detalhes do Item" }), _jsx(Button, { variant: "ghost", size: "sm", onClick: onClose, children: _jsx(X, { className: "h-4 w-4" }) })] }), _jsxs("div", { className: "p-6 space-y-6", children: [_jsxs("div", { className: "space-y-4", children: [_jsxs("div", { className: "flex items-center gap-3", children: [_jsx(Package, { className: "h-5 w-5 text-gray-500" }), _jsx("h3", { className: "text-lg font-semibold text-gray-900", children: "Informa\u00E7\u00F5es B\u00E1sicas" })] }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 pl-8", children: [_jsxs("div", { children: [_jsx("span", { className: "text-sm text-gray-600", children: "Nome do Produto:" }), _jsx("p", { className: "font-medium text-gray-900", children: item.productName })] }), _jsxs("div", { children: [_jsx("span", { className: "text-sm text-gray-600", children: "SKU:" }), _jsx("p", { className: "font-medium text-gray-900", children: item.sku })] }), _jsxs("div", { children: [_jsx("span", { className: "text-sm text-gray-600", children: "Categoria:" }), _jsx("p", { className: "font-medium text-gray-900", children: item.category })] }), _jsxs("div", { children: [_jsx("span", { className: "text-sm text-gray-600", children: "Localiza\u00E7\u00E3o:" }), _jsxs("div", { className: "flex items-center gap-1", children: [_jsx(MapPin, { className: "h-4 w-4 text-gray-500" }), _jsx("p", { className: "font-medium text-gray-900", children: item.location })] })] })] })] }), _jsxs("div", { className: "space-y-4", children: [_jsxs("div", { className: "flex items-center gap-3", children: [_jsx(Package, { className: "h-5 w-5 text-gray-500" }), _jsx("h3", { className: "text-lg font-semibold text-gray-900", children: "Controle de Estoque" })] }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4 pl-8", children: [_jsxs("div", { children: [_jsx("span", { className: "text-sm text-gray-600", children: "Estoque Atual:" }), _jsxs("div", { className: "flex items-center gap-2", children: [_jsxs("p", { className: `text-xl font-bold ${stockStatus.color}`, children: [item.currentStock, " un."] }), _jsx("span", { className: `inline-flex px-2 py-1 rounded-full text-xs font-medium ${stockStatus.bgColor} ${stockStatus.color}`, children: stockStatus.label })] })] }), _jsxs("div", { children: [_jsx("span", { className: "text-sm text-gray-600", children: "Estoque M\u00EDnimo:" }), _jsxs("p", { className: "text-xl font-bold text-gray-900", children: [item.minStock, " un."] })] }), _jsxs("div", { children: [_jsx("span", { className: "text-sm text-gray-600", children: "Estoque M\u00E1ximo:" }), _jsxs("p", { className: "text-xl font-bold text-gray-900", children: [item.maxStock, " un."] })] })] })] }), _jsxs("div", { className: "space-y-4", children: [_jsxs("div", { className: "flex items-center gap-3", children: [_jsx(TrendingUp, { className: "h-5 w-5 text-gray-500" }), _jsx("h3", { className: "text-lg font-semibold text-gray-900", children: "Informa\u00E7\u00F5es Financeiras" })] }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 pl-8", children: [_jsxs("div", { children: [_jsx("span", { className: "text-sm text-gray-600", children: "Custo Unit\u00E1rio:" }), _jsx("p", { className: "text-xl font-bold text-gray-900", children: formatCurrency(item.unitCost) })] }), _jsxs("div", { children: [_jsx("span", { className: "text-sm text-gray-600", children: "Valor Total em Estoque:" }), _jsx("p", { className: "text-xl font-bold text-primary", children: formatCurrency(item.totalValue) })] })] })] }), _jsxs("div", { className: "space-y-4", children: [_jsxs("div", { className: "flex items-center gap-3", children: [item.lastMovement.type === 'in' ? (_jsx(TrendingUp, { className: "h-5 w-5 text-green-500" })) : (_jsx(TrendingDown, { className: "h-5 w-5 text-red-500" })), _jsx("h3", { className: "text-lg font-semibold text-gray-900", children: "\u00DAltima Movimenta\u00E7\u00E3o" })] }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4 pl-8", children: [_jsxs("div", { children: [_jsx("span", { className: "text-sm text-gray-600", children: "Tipo:" }), _jsxs("div", { className: "flex items-center gap-2", children: [item.lastMovement.type === 'in' ? (_jsx(TrendingUp, { className: "h-4 w-4 text-green-500" })) : (_jsx(TrendingDown, { className: "h-4 w-4 text-red-500" })), _jsx("p", { className: `font-medium ${item.lastMovement.type === 'in' ? 'text-green-600' : 'text-red-600'}`, children: item.lastMovement.type === 'in' ? 'Entrada' : 'SaÃ­da' })] })] }), _jsxs("div", { children: [_jsx("span", { className: "text-sm text-gray-600", children: "Quantidade:" }), _jsxs("p", { className: "font-medium text-gray-900", children: [item.lastMovement.quantity, " un."] })] }), _jsxs("div", { children: [_jsx("span", { className: "text-sm text-gray-600", children: "Data:" }), _jsx("p", { className: "font-medium text-gray-900", children: formatDate(item.lastMovement.date) })] }), _jsxs("div", { className: "md:col-span-3", children: [_jsx("span", { className: "text-sm text-gray-600", children: "Motivo:" }), _jsx("p", { className: "font-medium text-gray-900", children: item.lastMovement.reason })] })] })] })] }), _jsx("div", { className: "flex justify-end p-6 border-t", children: _jsx(Button, { onClick: onClose, children: "Fechar" }) })] }) }));
}
